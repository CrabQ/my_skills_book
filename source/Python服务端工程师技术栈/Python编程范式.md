# 编程范式

## 面对对象基础以及Python类

### 什么是面对对象编程

Object Oriented Programming(OOP)

    把对象作为基本单元,把对象抽象成类(Class),包含成员和方法
    数据封装,继承,多态
    Python中使用类来实现.过程式编程(函数),OOP(类)

### 组合与继承

优先使用组合而非继承

    组合是使用其他的类实例作为自己的一个属性(Has-a 关系)
    子类继承父类的属性和方法(Is a 关系)
    优先使用组合保持代码简单

### 类变量和实例变量的区别

    类变量有所有实例共享
    实例变量由实例单独享有,不同实例之间不影响
    当我们需要在一个类的不同实例之间共享变量的时候使用类变量

### classmethod/staticmethod区别

    都可以通过Class.method()的方式使用
    classmethod第一个参数是cls,可以引用类变量
    staticmethod使用起来和普通函数一样,只不过放在类里去组织

### 什么是元类?使用场景

元类(Meta Class)是创建类的类

    元类允许我们控制类的生成,比如修改类的属性等
    使用type来定义元类
    元类最常见的一个使用场景就是ORM框架

## Python装饰器

### 什么是装饰器Decorator

    Python中一切皆对象,函数也可以当做参数传递
    装饰器是接受函数作为参数,添加功能后返回一个新函数的函数(类)
    Python中通过@使用装饰器

> [装饰器简单示例](https://my-skills-book.readthedocs.io/en/latest/Python/Python知识点/装饰器.html)

## 设计模式:创建型模式

### 常见创建型设计模式

    工厂模式(Factory):解决对象创建问题
    构造模式(Builder):控制复杂对象的创建
    原型模式(prototype):通过原型的克隆创建新的实例
    单例(Borg/Singleton):一个类只能创建同一个对象
    对象池模式(Pool):预先分配同一类型的一组实例
    惰性计算模式(Lazy Evaluation):延迟计算(Python的property)

### 工厂模式

    解决对象创建问题
    解耦对象的创建和使用
    包括工厂方法和抽象工厂

### 构造模式

    用来控制复杂对象的构造
    创建和表示分离.比如你要买电脑,工厂模式直接给你需要的电脑
    但是构造模式允许你自己定义电脑的配置,组装完成后给你

### 原型模式

    通过克隆原型来创建新的实例
    可以使用相同的原型,通过修改部分属性来创建新的示例
    用途:对于一些创建实例开销比较高的地方可以用原型模式

### 单例模式

    单例模式:一个类创建出来的对象都是同一个
    Python的模块其实就是单例的,只会导入一次
    使用共享同一个实例的方式来创建单列模式

## 设计模式:结构型模式

### 常见结构型设计模式

    装饰器模式(Decorator):无需子类化扩展对象功能
    代理模式(Proxy):把一个对象的操作代理到另一个对象
    适配器模式(Adapter):通过一个间接层适配统一接口
    外观模式(Facade):简化复杂对象的访问问题
    享元模式(Flyweight):通过对象复用(池)改善资源利用,比如连接池
    Model-View-Controller(MVC):解耦展示逻辑和业务逻辑

### 代理模式

    把一个对象的操作代理到另一个对象
    这里又要提到我们之前实现的Stack/Queue,把操作代理到deque
    通常使用has-a组合关系

### 适配器模式

    把不同对象的接口适配到同一个接口
    想象一个多功能充电头,可以给不同的电器充电,充当了适配器
    当我们需要给不同的对象统一接口的时候可以用适配器模式

## 设计模式:行为型模式

### 常见行为型设计模式

    迭代器模式(Iterator):通过统一的接口迭代对象
    观察者模式(Observer):对象发生改变的时候,观察者执行相应动作
    策略模式(Strategy):针对不同规模输入使用不同的策略

### 迭代器模式

    Python内置对迭代器模式的支持
    比如我们可以用for遍历各种Iterable的数据类型
    Python里可以实现__next__和__iter__实现迭代器

### 观察者模式

    发布订阅是一种最常用的实现方式
    发布订阅用于解耦逻辑
    可以通过回调等方式实现,当发生事件时,调用相应的回调函数

### 策略模式

    根据不同的输入采用不同的策略
    比如买东西超过10个打八折,超过20个打七折
    对外暴露统一的接口,内部采用不同的策略计算

## python函数式编程

### Python支持部分函数式编程特性

    把电脑的运算视作数学上的函数计算(lambda演算)
    高阶函数: map/reduce/filter
    无副作用,相同的参数调用始终产生同样的结果

### 什么是闭包Closure

    绑定了外部作用域的变量的函数
    即使程序离开外部作用域,如果闭包仍然可见,绑定的变量不会销毁
    每次运行外部函数都会重新创建闭包
