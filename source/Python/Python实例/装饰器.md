# 装饰器

## 函数装饰器

```python
import time

def log_time(func):
    def _log(*args, **kwargs):
        start = time.time()
        res = func(*args, **kwargs)
        print(f'run: {time.time()-start}')
        return res
    return _log

@log_time
def sleep():
    time.sleep(2)

if __name__ == '__main__':
    sleep()

# run: 2.0001962184906006
```

## 类装饰器

```python
import time

class LogTime():
    def __call__(self, func):
        def _log(*args, **kwargs):
            start = time.time()
            res = func(*args, **kwargs)
            print(f'run: {time.time()-start}')
            return  res
        return _log

@LogTime()
def sleep():
    time.sleep(2)

if __name__ == '__main__':
    sleep()

# run: 2.000797748565674
```

## 装饰器加参数

```python
import time

class LogTime():
    def __init__(self, name):
        self.name = name

    def __call__(self, func):
        def _log(*args, **kwargs):
            start = time.time()
            res = func(*args, **kwargs)
            print(f'{self.name} run: {time.time()-start}')
            return  res
        return _log

@LogTime('sleep')
def sleep():
    time.sleep(2)

if __name__ == '__main__':
    sleep()

# sleep run: 2.0003254413604736
```
